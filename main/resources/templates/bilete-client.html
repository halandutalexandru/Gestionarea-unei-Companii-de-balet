<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Bilete</title>
    <link rel="stylesheet" th:href="@{/css/app.css}">
</head>
<body>

<div class="wrap wrap-wide">

    <div class="top-between">
        <div>
            <div class="top">
                <a href="/spectacole">‚Üê Inapoi</a>
            </div>
            <h2 class="page-title">Bilete</h2>
        </div>
        <div></div>
    </div>

    <div th:if="${msg != null}" class="msg" th:text="${msg}"></div>
    <div th:if="${err != null}" class="err" th:text="${err}"></div>

    <div th:if="${#lists.isEmpty(rows)}" class="empty">
        Nu exista bilete generate pentru acest spectacol.
    </div>

    <div th:if="${!#lists.isEmpty(rows)}" class="card">
        <table class="table">
            <thead>
            <tr>
                <th>Loc</th>
                <th>Pret</th>
                <th>Status</th>
                <th>Actiune</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="b : ${rows}">
                <td th:text="${b.nr_loc}"></td>
                <td th:text="${b.pret} + ' lei'"></td>

                <td>
                    <span th:if="${b.status == 'Liber'}" class="badge badge-liber">Liber</span>
                    <span th:if="${b.status == 'Rezervat'}" class="badge badge-rezervat">Rezervat</span>
                    <span th:if="${b.status == 'Vandut'}" class="badge badge-vandut">Vandut</span>
                    <span th:if="${b.status != 'Liber' and b.status != 'Rezervat' and b.status != 'Vandut'}"
                          class="badge" th:text="${b.status}"></span>
                </td>

                <td class="actions">
                    <form th:if="${b.status == 'Liber'}"
                          th:action="@{'/rezerva/' + ${b.id_bilet}}"
                          method="post" class="inline">
                        <input type="hidden" name="idRep" th:value="${idRep}">
                        <button class="btn" type="submit">Rezerva</button>
                    </form>

                    <button th:if="${b.status != 'Liber'}" class="btn btn-disabled" type="button" disabled>
                        Indisponibil
                    </button>
                </td>

            </tr>
            </tbody>
        </table>
    </div>

</div>

</body>
</html>
